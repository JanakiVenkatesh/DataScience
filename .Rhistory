getwd()
setwd("C:\Datascience\Foundation Capstone Project")
mydata <- read.csv("refine_original_2.CSV")
c_company <- mydata %>%
mutate(lower_company = tolower(company),
first_letter = substr(lower_company, 0, 1),
clean_company = ifelse(first_letter == "p", "phillips",
ifelse(first_letter == "f", "phillips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van Houten",
ifelse(first_letter == "u", "unliever", first_letter))))))
install.packages("tidyverse")
library(tidyverse)
library(stringr)
library(dplyr)
c_company <- mydata %>%
mutate(lower_company = tolower(company),
first_letter = substr(lower_company, 0, 1),
clean_company = ifelse(first_letter == "p", "phillips",
ifelse(first_letter == "f", "phillips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van Houten",
ifelse(first_letter == "u", "unliever", first_letter))))))
c_company
Category <- data.frame(product_code = c("p", "v", "x", "q"),product_number = c("Smartphone", "TV", "Laptop", "Tablet"))
PCategory
View(Category)
Category
Final_data <- c_company %>%
separate(Product.code...number, into = c('product_code','product_number'), sep = "-")
Final_data
View(Final_data)
Join_data <- Final_data %>%
left_join(Final_data, PCategory, by = "product_code")
View(Join_data)
View(Final_data)
Join_data <- Final_data %>%
left_join(Final_data, PCategory, by = "product_code")
View(Join_data)
Join_data <- Final_data %>%
left_join(Final_data, Category, by = "product_code")
View(Join_data)
join_data<-merge(Final_data,Category)
View(join_data)
Final_data <- c_company %>%
separate(Product.code...number, into = c('product_code','product_number'), sep = "-")
join_data<-merge(Final_data,Category)
View(join_data)
c_company <- mydata %>%
mutate(lower_company = tolower(company),
first_letter = substr(lower_company, 0, 1),
clean_company = ifelse(first_letter == "p", "phillips",
ifelse(first_letter == "f", "phillips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van Houten",
ifelse(first_letter == "u", "unliever", first_letter))))))
Category <- data.frame(product_code = c("p", "v", "x", "q"),product_number = c("Smartphone", "TV", "Laptop", "Tablet"))
Final <- c_company %>%
separate(Product.code...number, into = c('product_code','product_number'), sep = "-")
View(Final)
join<-merge(Final, Category, product_code)
join<-merge(Final, Category, "product_code")
View(join)
caddress <- unite(join, address:country)
caddress <- Unite(join, address:country)
library(tidyr)
caddress <- Unite(join, address:country)
caddress <- join %>%
unite(full_address, address::country, sep = ",")
View(join)
caddress <- join %>%
unite(full_address, address::country, sep = ',')
caddress <- join %>%
unite(full_address, address:country, sep = ',')
View(caddress)
result <- caddress %>%
mutate(company_phillips = ifelse(company == 'phillips',1,0)) %>%
mutate(company_akzo = ifelse(company == 'akzo',1,0)) %>%
mutate(company_van_houten = ifelse(company == 'van houten',1,0)) %>%
mutate(company_unilever = ifelse(company == 'unilever',1,0)) %>%
mutate(product_smartphone = ifelse(product_number.y == 'smartphone',1,0)) %>%
mutate(product_tv = ifelse(product_number.y == 'tv',1,0)) %>%
mutate(product_laptop = ifelse(product_number.y == 'laptop',1,0)) %>%
mutate(product_tablet = ifelse(product_number.y == 'tablet',1,0))
View(result)
result <- caddress %>%
mutate(company_phillips = ifelse(company == 'phillips',1,0)) %>%
mutate(company_akzo = ifelse(company == 'akzo',1,0)) %>%
mutate(company_van_houten = ifelse(company == 'van houten',1,0)) %>%
mutate(company_unilever = ifelse(company == 'unilever',1,0)) %>%
mutate(product_smartphone = ifelse(product_number.y == 'Smartphone',1,0)) %>%
mutate(product_tv = ifelse(product_number.y == 'Tv',1,0)) %>%
mutate(product_laptop = ifelse(product_number.y == 'Laptop',1,0)) %>%
mutate(product_tablet = ifelse(product_number.y == 'Tablet',1,0))
View(result)
result <- caddress %>%
mutate(company_phillips = ifelse(lower_company == 'phillips',1,0)) %>%
mutate(company_akzo = ifelse(lower_company == 'akzo',1,0)) %>%
mutate(company_van_houten = ifelse(lower_company == 'van houten',1,0)) %>%
mutate(company_unilever = ifelse(lower_company == 'unilever',1,0)) %>%
mutate(product_smartphone = ifelse(product_number.y == 'Smartphone',1,0)) %>%
mutate(product_tv = ifelse(product_number.y == 'Tv',1,0)) %>%
mutate(product_laptop = ifelse(product_number.y == 'Laptop',1,0)) %>%
mutate(product_tablet = ifelse(product_number.y == 'Tablet',1,0))
View(result)
lse(first_letter == "p", "phillips",
ifelse(first_letter == "f", "phillips",
ifelse(first_letter == "a", "akzo",
ifelse(first_letter == "v", "van Houten",
ifelse(first_letter == "u", "unliever", first_letter))))))
c_company
#Create Vector/Dataframe for product code and product name
Category <- data.frame(product_code = c("p", "v", "x", "q"),product_number = c("Smartphone", "TV", "Laptop", "Tablet"))
Category
# 2. seperate one column to multiple columns.
Final <- c_company %>%
separate(Product.code...number, into = c('product_code','product_number'), sep = "-")
View(Final)
# Either use leftjoin or merge to combine 2 dataframes.
#Join_data <- Final_data %>%
# left_join(Final_data, Category, by = "product_code")
join<-merge(Final, Category, "product_code")
View(join)
#Combine columns address, city, country to full_address
caddress <- join %>%
unite(full_address, address:country, sep = ',')
View(caddress)
#Create binary variables
View(result)
View(result)
write.csv(result, 'Result.csv', row.names = FALSE)
getwd()
getwd()
getwd()
